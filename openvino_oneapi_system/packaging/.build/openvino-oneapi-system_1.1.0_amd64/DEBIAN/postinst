#!/usr/bin/env sh
set -eu
if ! getent group openvino-ovo >/dev/null 2>&1; then
    addgroup --system openvino-ovo >/dev/null 2>&1 || true
fi
if ! getent passwd openvino-ovo >/dev/null 2>&1; then
    adduser --system --ingroup openvino-ovo --home /var/lib/openvino-oneapi-system \
        --no-create-home --shell /usr/sbin/nologin openvino-ovo >/dev/null 2>&1 || true
fi
mkdir -p /var/log/openvino-oneapi-system /var/lib/openvino-oneapi-system
chown -R openvino-ovo:openvino-ovo /var/log/openvino-oneapi-system /var/lib/openvino-oneapi-system || true
chmod 0775 /var/log/openvino-oneapi-system || true
if command -v systemctl >/dev/null 2>&1; then
    systemctl daemon-reload >/dev/null 2>&1 || true
fi
exit 0
